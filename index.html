<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AskAce: D'RAG - RAG Chatbot</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            overflow-x: hidden;
        }

        .container {
            max-width: 800px;
            margin: 0 auto;
            padding: 20px;
            min-height: 100vh;
            display: flex;
            flex-direction: column;
        }

        .header {
            background: rgba(255, 255, 255, 0.95);
            border-radius: 15px;
            padding: 20px;
            margin-bottom: 20px;
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.1);
            backdrop-filter: blur(10px);
            text-align: center;
        }

        .header h1 {
            color: #2d3748;
            margin-bottom: 10px;
            font-size: 2.5rem;
            font-weight: 700;
        }

        .header p {
            color: #4a5568;
            font-size: 1.1rem;
        }

        .status {
            background: rgba(255, 255, 255, 0.95);
            border-radius: 15px;
            padding: 15px;
            margin-bottom: 20px;
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.1);
            backdrop-filter: blur(10px);
        }

        .status-item {
            display: flex;
            align-items: center;
            margin-bottom: 5px;
            font-weight: 500;
        }

        .status-dot {
            width: 8px;
            height: 8px;
            border-radius: 50%;
            margin-right: 10px;
        }

        .status-online {
            background-color: #48bb78;
        }

        .chat-container {
            background: rgba(255, 255, 255, 0.95);
            border-radius: 15px;
            flex: 1;
            display: flex;
            flex-direction: column;
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.1);
            backdrop-filter: blur(10px);
            overflow: hidden;
        }

        .messages {
            flex: 1;
            overflow-y: auto;
            padding: 20px;
            max-height: 400px;
        }

        .message {
            margin-bottom: 15px;
            padding: 12px 16px;
            border-radius: 12px;
            max-width: 80%;
            word-wrap: break-word;
        }

        .user-message {
            background: #667eea;
            color: white;
            margin-left: auto;
        }

        .bot-message {
            background: #f7fafc;
            color: #2d3748;
            border: 1px solid #e2e8f0;
        }

        .error-message {
            background: #fed7d7;
            color: #c53030;
            border: 1px solid #feb2b2;
        }

        .input-container {
            padding: 20px;
            border-top: 1px solid #e2e8f0;
        }

        .input-form {
            display: flex;
            gap: 10px;
        }

        .input-field {
            flex: 1;
            padding: 12px 16px;
            border: 2px solid #e2e8f0;
            border-radius: 25px;
            font-size: 16px;
            outline: none;
            transition: border-color 0.2s;
        }

        .input-field:focus {
            border-color: #667eea;
        }

        .send-button {
            padding: 12px 24px;
            background: #667eea;
            color: white;
            border: none;
            border-radius: 25px;
            cursor: pointer;
            font-weight: 600;
            transition: background-color 0.2s;
        }

        .send-button:hover:not(:disabled) {
            background: #5a67d8;
        }

        .send-button:disabled {
            background: #cbd5e0;
            cursor: not-allowed;
        }

        .loading {
            display: none;
            text-align: center;
            padding: 20px;
            color: #4a5568;
        }

        .demo-queries {
            background: rgba(255, 255, 255, 0.95);
            border-radius: 15px;
            padding: 15px;
            margin-bottom: 20px;
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.1);
            backdrop-filter: blur(10px);
        }

        .demo-queries h3 {
            margin-bottom: 10px;
            color: #2d3748;
        }

        .demo-query {
            display: inline-block;
            background: #e2e8f0;
            color: #2d3748;
            padding: 6px 12px;
            border-radius: 15px;
            margin: 3px;
            cursor: pointer;
            font-size: 14px;
            transition: background-color 0.2s;
        }

        .demo-query:hover {
            background: #cbd5e0;
        }

        @media (max-width: 768px) {
            .container {
                padding: 10px;
            }
            
            .header h1 {
                font-size: 2rem;
            }
            
            .input-form {
                flex-direction: column;
            }
            
            .send-button {
                border-radius: 12px;
            }
            
            .input-field {
                border-radius: 12px;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>ðŸŽ¯ AskAce: D'RAG</h1>
            <p>RAG-powered Chatbot with Preloaded Knowledge Base</p>
        </div>

        <div class="status">
            <div class="status-item">
                <div class="status-dot status-online"></div>
                <span>Knowledge Base: Ready</span>
            </div>
            <div class="status-item">
                <div class="status-dot status-online"></div>
                <span>AI Model: Active</span>
            </div>
        </div>

        <div class="demo-queries">
            <h3>ðŸ’¡ Try asking:</h3>
            <span class="demo-query" onclick="sendQuery('What is Amdahl\\'s Law?')">Amdahl's Law</span>
            <span class="demo-query" onclick="sendQuery('Explain parallel sorting algorithms')">Parallel Sorting</span>
            <span class="demo-query" onclick="sendQuery('How does threading work?')">Threading</span>
            <span class="demo-query" onclick="sendQuery('What are the lecture topics?')">Lecture Topics</span>
            <span class="demo-query" onclick="sendQuery('Tell me about synchronization')">Synchronization</span>
            <span class="demo-query" onclick="sendQuery('What assignments are covered?')">Assignments</span>
        </div>

        <div class="chat-container">
            <div class="messages" id="messages">
                <div class="message bot-message">
                    ðŸ‘‹ Welcome! I'm AskAce, your RAG-powered assistant. I have access to a comprehensive knowledge base covering parallel computing, sorting algorithms, search techniques, synchronization, and lecture materials. Ask me anything!
                </div>
            </div>
            
            <div class="loading" id="loading">
                ðŸ¤– Thinking...
            </div>
            
            <div class="input-container">
                <form class="input-form" onsubmit="sendMessage(event)">
                    <input 
                        type="text" 
                        id="messageInput" 
                        class="input-field" 
                        placeholder="Ask me about parallel computing, sorting algorithms, or lecture content..."
                        required
                        autocomplete="off"
                    >
                    <button type="submit" class="send-button" id="sendButton">Send</button>
                </form>
            </div>
        </div>
    </div>

    <script>
        // Knowledge base derived from your actual data
        const knowledgeBase = {
            "parallel_computing": {
                "introduction": "Parallel computing involves performing multiple computations simultaneously. It's essential for handling large-scale problems efficiently by breaking them into smaller tasks that can be executed concurrently.",
                "amdahl_law": "Amdahl's Law describes the theoretical speedup in latency of the execution of a task at a fixed workload that can be expected of a system whose resources are improved. It shows the limitation of parallel processing.",
                "threading": "Threading allows multiple threads to exist within the context of one process. These threads share the process's resources but execute independently, enabling concurrent execution of different parts of a program."
            },
            "sorting_algorithms": {
                "parallel_sorting": "Parallel sorting algorithms divide the sorting task among multiple processors. Common approaches include merge sort, quick sort, and radix sort implementations that can utilize multiple cores for faster execution.",
                "radix_sort": "Radix sort is a non-comparative sorting algorithm that sorts data with integer keys by grouping keys by individual digits that share the same significant position and value.",
                "python_sorting": "Python provides built-in sorting functions like sort() and sorted(), but custom parallel implementations can be created using libraries like multiprocessing for better performance on large datasets."
            },
            "search_algorithms": {
                "parallel_search": "Parallel linear search divides the search space among multiple processors, allowing simultaneous searching of different portions of the data structure. This can significantly reduce search time for large datasets.",
                "linear_search": "Linear search examines each element sequentially until the target is found. In parallel implementation, different threads search different segments of the array simultaneously."
            },
            "synchronization": {
                "concepts": "Synchronization in parallel computing ensures that multiple processes or threads can safely access shared resources without causing data corruption or race conditions.",
                "async_vs_sync": "Synchronous operations block execution until completion, while asynchronous operations allow other tasks to run concurrently. Understanding this difference is crucial for efficient parallel programming."
            },
            "lectures": {
                "content": "The course covers 10+ lectures on parallel computing fundamentals, including threading, synchronization, sorting algorithms, search techniques, and practical implementations in Python.",
                "topics": "Key topics include Amdahl's Law, parallel sorting algorithms, search techniques, threading concepts, synchronization mechanisms, and hands-on coding exercises."
            },
            "assignments": {
                "coding": "Assignments include implementing parallel linear search, various sorting algorithms, server-client applications, and validating Amdahl's Law through practical code examples.",
                "projects": "Projects involve creating parallel implementations of sorting algorithms, search techniques, and understanding performance improvements through parallel processing."
            }
        };

        function addMessage(content, isUser = false, isError = false) {
            const messagesContainer = document.getElementById('messages');
            const messageDiv = document.createElement('div');
            messageDiv.className = `message ${isUser ? 'user-message' : (isError ? 'error-message' : 'bot-message')}`;
            messageDiv.textContent = content;
            messagesContainer.appendChild(messageDiv);
            messagesContainer.scrollTop = messagesContainer.scrollHeight;
        }

        function searchKnowledgeBase(query) {
            const lowerQuery = query.toLowerCase();
            let bestMatch = "";
            let maxScore = 0;

            // Search through all knowledge base entries
            for (const category in knowledgeBase) {
                for (const topic in knowledgeBase[category]) {
                    const content = knowledgeBase[category][topic];
                    const combinedText = (topic + " " + content).toLowerCase();
                    
                    // Simple keyword matching
                    const keywords = lowerQuery.split(' ');
                    let score = 0;
                    
                    keywords.forEach(keyword => {
                        if (combinedText.includes(keyword)) {
                            score += keyword.length;
                        }
                    });
                    
                    if (score > maxScore) {
                        maxScore = score;
                        bestMatch = content;
                    }
                }
            }

            if (maxScore > 0) {
                return bestMatch;
            }

            // Fallback responses for common queries
            if (lowerQuery.includes('topic') || lowerQuery.includes('cover')) {
                return "The knowledge base covers parallel computing concepts, sorting algorithms (including radix sort and parallel implementations), search techniques, threading, synchronization mechanisms, Amdahl's Law, and 10+ lecture materials with practical assignments.";
            }
            
            if (lowerQuery.includes('hello') || lowerQuery.includes('hi')) {
                return "Hello! I'm AskAce, your RAG-powered assistant. I can help you with parallel computing, sorting algorithms, search techniques, synchronization, and academic lecture materials from my knowledge base.";
            }

            return "I couldn't find specific information about that topic in my knowledge base. Try asking about parallel computing, sorting algorithms, threading, synchronization, Amdahl's Law, or lecture assignments. You can also use the suggested queries above!";
        }

        async function sendMessage(event) {
            event.preventDefault();
            const input = document.getElementById('messageInput');
            const sendButton = document.getElementById('sendButton');
            const loading = document.getElementById('loading');
            
            const message = input.value.trim();
            if (!message) return;

            // Add user message
            addMessage(message, true);
            
            // Clear input and disable button
            input.value = '';
            sendButton.disabled = true;
            loading.style.display = 'block';

            // Simulate processing delay
            await new Promise(resolve => setTimeout(resolve, 1000 + Math.random() * 1000));

            // Get response from knowledge base
            const response = searchKnowledgeBase(message);
            
            // Add bot response
            addMessage(response);
            
            // Re-enable input
            sendButton.disabled = false;
            loading.style.display = 'none';
            input.focus();
        }

        function sendQuery(query) {
            const input = document.getElementById('messageInput');
            input.value = query;
            // Create and dispatch a proper form submit event
            const form = document.querySelector('.input-form');
            const event = new Event('submit', { cancelable: true });
            form.dispatchEvent(event);
        }

        // Focus on input when page loads
        document.addEventListener('DOMContentLoaded', function() {
            document.getElementById('messageInput').focus();
        });

        // Handle Enter key properly
        document.getElementById('messageInput').addEventListener('keydown', function(e) {
            if (e.key === 'Enter' && !e.shiftKey) {
                e.preventDefault();
                const form = document.querySelector('.input-form');
                const event = new Event('submit', { cancelable: true });
                form.dispatchEvent(event);
            }
        });
    </script>
</body>
</html>